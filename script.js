



let drugsList = [{"_id":"65e683b1405ecf2925b98802","generic":"Levothyroxine","brand":"Synthroid","use":"Hormone replacement","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0,"sig":"Take 1 tablet by mouth on an empty stomach 30 minutes before breakfast."},{"_id":"65e683b2405ecf2925b98806","generic":"Amoxicillin","brand":"Amoxil","use":"Antibiotic","dea_class":"-","form":"CAPSULE","route":"BY MOUTH","__v":0,"sig":"Take 1 capsule by mouth 3 times daily for 7 days"},{"_id":"65e683b2405ecf2925b98809","generic":"Lisinopril","brand":"Prinivil","use":"Antihypertensive","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683b2405ecf2925b9880c","generic":"Esomeprazole","brand":"Nexium","use":"Antacid (PPI)","dea_class":"-","form":"CAPSULE","route":"BY MOUTH","__v":0},{"_id":"65e683b2405ecf2925b9880f","generic":"Atorvastatin","brand":"Lipitor","use":"Cholesterol lowering","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683b2405ecf2925b98812","generic":"Simvastatin","brand":"Zocor","use":"Cholesterol lowering","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683b2405ecf2925b98815","generic":"Clopidogrel","brand":"Plavix","use":"Anticoagulant","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683b2405ecf2925b98818","generic":"Montelukast","brand":"Singulair","use":"Anti-asthmatic","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683b3405ecf2925b9881b","generic":"Rosuvastatin","brand":"Crestor","use":"Cholesterol lowering","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683b3405ecf2925b9881e","generic":"Metoprolol","brand":"Lopressor","use":"Antihypertensive","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683b3405ecf2925b98821","generic":"Escitalopram","brand":"Lexapro","use":"Antidepressant","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683b3405ecf2925b98824","generic":"Azithromycin","brand":"Z-pak","use":"Antibiotic","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0,"sig":"Take 2 by mouth on day 1 then 1 each day."},{"_id":"65e683b3405ecf2925b98827","generic":"Albuterol","brand":"Proair","use":"Anti-asthmatic","dea_class":"-","form":"PUFF(S)","route":"BY MOUTH","__v":0,"sig":"Inhale 2 puffs every 4 to 6 hours as needed"},{"_id":"65e683b3405ecf2925b9882a","generic":"Hydrochlorothiazide","brand":"HCTZ","use":"Diuretic","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683b3405ecf2925b9882d","generic":"Metformin","brand":"Glucophage","use":"Antidiabetic","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683b3405ecf2925b98830","generic":"Sertraline","brand":"Zoloft","use":"Antidepressant","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683b3405ecf2925b98833","generic":"Ibuprofen","brand":"Advil","use":"Analgesic (NSAID)","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683b4405ecf2925b98836","generic":"Zolpidem","brand":"Ambien","use":"Sleep aid","dea_class":"C-IV","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683b4405ecf2925b98839","generic":"Furosemide","brand":"Lasix","use":"Diuretic","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683b4405ecf2925b9883c","generic":"Omeprazole","brand":"Prilosec","use":"Antacid (PPI)","dea_class":"-","form":"CAPSULE","route":"BY MOUTH","__v":0},{"_id":"65e683b4405ecf2925b9883f","generic":"Trazodone","brand":"Desyrel","use":"Antidepressant","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683b4405ecf2925b98842","generic":"Valsartan","brand":"Diovan","use":"Antihypertensive","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683b4405ecf2925b98845","generic":"Tramadol","brand":"Ultram","use":"Analgesic","dea_class":"C-IV","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683b4405ecf2925b98848","generic":"Duloxetine","brand":"Cymbalta","use":"Antidepressant","dea_class":"-","form":"CAPSULE","route":"BY MOUTH","__v":0},{"_id":"65e683b4405ecf2925b9884b","generic":"Warfarin","brand":"Coumadin","use":"Anticoagulant","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683b5405ecf2925b9884e","generic":"Amlodipine","brand":"Norvasc","use":"Antihypertensive","dea_class":"-","form":"CAPSULE","route":"BY MOUTH","__v":0},{"_id":"65e683b5405ecf2925b98852","generic":"Quetiapine","brand":"Seroquel","use":"Antipsychotic","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683b5405ecf2925b98855","generic":"Promethazine","brand":"Phenergan","use":"Antihistamine","dea_class":"-","form":"ML(S)","route":"BY MOUTH","__v":0},{"_id":"65e683b5405ecf2925b98858","generic":"Fluticasone","brand":"Flonase","use":"Antihistamine","dea_class":"-","form":"SPRAY(S)","route":"INTO EACH NOSTRIL","__v":0},{"_id":"65e683b5405ecf2925b9885b","generic":"Alprazolam","brand":"Xanax","use":"Antianxiety","dea_class":"C-IV","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683b5405ecf2925b9885e","generic":"Clonazepam","brand":"Klonopin","use":"Antianxiety","dea_class":"C-IV","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683b5405ecf2925b98861","generic":"Benazepril","brand":"Lotensin","use":"Antihypertensive","dea_class":"-","form":"CAPSULE","route":"BY MOUTH","__v":0},{"_id":"65e683b5405ecf2925b98864","generic":"Meloxicam","brand":"Mobic","use":"Analgesic (NSAID)","dea_class":"-","form":"CAPSULE","route":"BY MOUTH","__v":0},{"_id":"65e683b6405ecf2925b98867","generic":"Citalopram","brand":"Celexa","use":"Antidepressant","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683b6405ecf2925b9886a","generic":"Cephalexin","brand":"Keflex","use":"Antibiotic","dea_class":"-","form":"CAPSULE","route":"BY MOUTH","__v":0},{"_id":"65e683b6405ecf2925b9886d","generic":"Tiotropium","brand":"Spiriva","use":"C.O.P.D.","dea_class":"-","form":"PUFF(S)","route":".","__v":0},{"_id":"65e683b6405ecf2925b98870","generic":"Gabapentin","brand":"Neurontin","use":"Anticonvulsant","dea_class":"-","form":"CAPSULE","route":"BY MOUTH","__v":0},{"_id":"65e683b6405ecf2925b98873","generic":"Aripiprazole","brand":"Abilify","use":"Antipsychotic","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683b6405ecf2925b98876","generic":"Potassium","brand":"K-Tab","use":"Electrolyte","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683b6405ecf2925b98879","generic":"Cyclobenzaprine","brand":"Flexeril","use":"Muscle Relaxer","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683b6405ecf2925b9887c","generic":"Methylprednisolone","brand":"Medrol","use":"Anti-inflammatory steriod","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0,"sig":"Take 6 by mouth on day one then 5 on day two then 4 on day three then 3 on day four then 2 on day five then 1 on day six"},{"_id":"65e683b6405ecf2925b9887f","generic":"Methylphenidate","brand":"Concerta","use":"ADHD","dea_class":"C-II","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683b7405ecf2925b98882","generic":"Fexofenadine","brand":"Allegra","use":"Antihistamine","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683b7405ecf2925b98885","generic":"Carvedilol","brand":"Coreg","use":"Antihypertensive","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683b7405ecf2925b98888","generic":"Carisoprodol","brand":"Soma","use":"Muscle Relaxer","dea_class":"C-IV","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683b7405ecf2925b9888b","generic":"Digoxin","brand":"Lanoxin","use":"Congestive Heart Failure","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683b7405ecf2925b9888e","generic":"Memantine","brand":"Namenda","use":"Antidementia","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683b7405ecf2925b98891","generic":"Atenolol","brand":"Tenormin","use":"Antihypertensive","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683b7405ecf2925b98894","generic":"Diazepam","brand":"Valium","use":"Antianxiety","dea_class":"C-IV","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683b7405ecf2925b98897","generic":"Oxycodone","brand":"OxyContin","use":"Analgesic","dea_class":"C-II","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683b8405ecf2925b9889a","generic":"Risedronate","brand":"Actonel","use":"Osteoporosis","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683b8405ecf2925b9889d","generic":"Folic Acid","brand":"Folvite","use":"Supplement","dea_class":"-","form":"CAPSULE","route":"BY MOUTH","__v":0},{"_id":"65e683b8405ecf2925b988a0","generic":"Olmesartan","brand":"Benicar","use":"Antihypertensive","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683b8405ecf2925b988a3","generic":"Prednisone","brand":"Deltasone","use":"Anti-inflammatory steriod","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683b8405ecf2925b988a6","generic":"Doxycycline","brand":"Vibramycin","use":"Antibiotic","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683b8405ecf2925b988a9","generic":"Alendronate","brand":"Fosamax","use":"Osteoporosis","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0,"sig":"Take 1 tablet by mouth once a week 30 minutes before the first food or drink of the day"},{"_id":"65e683b8405ecf2925b988ac","generic":"Pantoprazole","brand":"Protonix","use":"Antacid (PPI)","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683b8405ecf2925b988af","generic":"Tamsulosin","brand":"Flomax","use":"Urinary retention","dea_class":"-","form":"CAPSULE","route":"BY MOUTH","__v":0},{"_id":"65e683b9405ecf2925b988b3","generic":"Paroxetine","brand":"Paxil","use":"Antidepressant","dea_class":"-","form":"CAPSULE","route":"BY MOUTH","__v":0},{"_id":"65e683b9405ecf2925b988b7","generic":"Enalapril","brand":"Vasotec","use":"Antihypertensive","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683b9405ecf2925b988ba","generic":"Lovastatin","brand":"Mevacor","use":"Cholesterol lowering","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683b9405ecf2925b988bd","generic":"Pioglitazone","brand":"Actos","use":"Antidiabetic","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683b9405ecf2925b988c0","generic":"Pravastatin","brand":"Pravachol","use":"Cholesterol lowering","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683b9405ecf2925b988c3","generic":"Fluoxetine","brand":"Prozac","use":"Antidepressant","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683b9405ecf2925b988c6","generic":"Insulin Detemir","brand":"Levemir","use":"Antidiabetic","dea_class":"-","form":"SOLUTION","route":"BY SUBCUTANEOUS INJECTION","__v":0},{"_id":"65e683b9405ecf2925b988c9","generic":"Fluconazole","brand":"Diflucan","use":"Antifungal","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0,"sig":"Take 1 by mouth as a one time dose"},{"_id":"65e683b9405ecf2925b988cc","generic":"Levofloxacin","brand":"Levaquin","use":"Antibiotic","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683ba405ecf2925b988cf","generic":"Rivaroxaban","brand":"Xarelto","use":"Anticoagulant","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683ba405ecf2925b988d2","generic":"Celecoxib","brand":"Celebrex","use":"Analgesic (NSAID)","dea_class":"-","form":"CAPSULE","route":"BY MOUTH","__v":0},{"_id":"65e683ba405ecf2925b988d6","generic":"Mometasone","brand":"Nasonex","use":"Antihistamine","dea_class":"-","form":"OINTMENT","route":"TOPICALLY","__v":0},{"_id":"65e683ba405ecf2925b988d9","generic":"Ciprofloxacin","brand":"Cipro","use":"Antibiotic","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683ba405ecf2925b988dc","generic":"Pregabalin","brand":"Lyrica","use":"Anticonvulsant","dea_class":"-","form":"CAPSULE","route":"BY MOUTH","__v":0},{"_id":"65e683ba405ecf2925b988df","generic":"Insulin Aspart","brand":"Novolog","use":"Antidiabetic","dea_class":"-","form":"SOLUTION","route":"BY SUBCUTANEOUS INJECTION","__v":0},{"_id":"65e683ba405ecf2925b988e2","generic":"Venlafaxine","brand":"Effexor","use":"Antidepressant","dea_class":"-","form":"CAPSULE","route":"BY MOUTH","__v":0},{"_id":"65e683bb405ecf2925b988e5","generic":"Lorazepam","brand":"Ativan","use":"Antianxiety","dea_class":"C-IV","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683bb405ecf2925b988e8","generic":"Ezetimibe","brand":"Zetia","use":"Cholesterol lowering","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683bb405ecf2925b988ec","generic":"Allopurinol","brand":"Zyloprim","use":"Antigout","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683bb405ecf2925b988ef","generic":"Penicillin","brand":"Pen VK","use":"Antibiotic","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683bb405ecf2925b988f2","generic":"Sitagliptin","brand":"Januvia","use":"Antidiabetic","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683bb405ecf2925b988f5","generic":"Amitriptyline","brand":"Elavil","use":"Antidepressant","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683bb405ecf2925b988f8","generic":"Clonidine","brand":"Catapres","use":"Antihypertensive","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683bb405ecf2925b988fb","generic":"Latanoprost","brand":"Xalatan","use":"Antiglaucoma","dea_class":"-","form":"DROP(S)","route":"INTO EYE(S)","__v":0},{"_id":"65e683bc405ecf2925b988fe","generic":"Lisdexamfetamine","brand":"Vyvanse","use":"ADHD","dea_class":"C-II","form":"CAPSULE","route":"BY MOUTH","__v":0},{"_id":"65e683bc405ecf2925b98901","generic":"Niacin","brand":"Niaspan","use":"Cholesterol lowering","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683bc405ecf2925b98904","generic":"Naproxen","brand":"Aleve","use":"Analgesic (NSAID)","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683bc405ecf2925b98907","generic":"Dexlansoprazole","brand":"Dexilant","use":"Antacid (PPI)","dea_class":"-","form":"CAPSULE","route":"BY MOUTH","__v":0},{"_id":"65e683bc405ecf2925b9890a","generic":"Glyburide","brand":"Diabeta","use":"Antidiabetic","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683bc405ecf2925b9890d","generic":"Olanzapine","brand":"Zyprexa","use":"Antipsychotic","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683bc405ecf2925b98910","generic":"Tolterodine","brand":"Detrol","use":"Incontinence","dea_class":"-","form":"CAPSULE","route":"BY MOUTH","__v":0},{"_id":"65e683bc405ecf2925b98916","generic":"Famotidine","brand":"Pepcid","use":"Antacid (H2)","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683bd405ecf2925b98919","generic":"Diltiazem","brand":"Cardizem","use":"Antihypertensive","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683bd405ecf2925b9891c","generic":"Insulin Glargine","brand":"Lantus","use":"Antidiabetic","dea_class":"-","form":"UNIT(S)","route":" BY SUBCUTANEOUS INJECTION","__v":0},{"_id":"65e683bd405ecf2925b98920","generic":"Bupropion","brand":"Wellbutrin","use":"Antidepressant","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683bd405ecf2925b98923","generic":"Cetirizine","brand":"Zyrtec","use":"Antihistamine","dea_class":"-","form":"SYRUP","route":"BY MOUTH","__v":0},{"_id":"65e683bd405ecf2925b98926","generic":"Topiramate","brand":"Topamax","use":"Anticonvulsant","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683bd405ecf2925b98929","generic":"Valacyclovir","brand":"Valtrex","use":"Antiviral","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683bd405ecf2925b9892c","generic":"Eszopiclone","brand":"Lunesta","use":"Sleep Aid","dea_class":"C-IV","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683bd405ecf2925b9892f","generic":"Acyclovir","brand":"Zovirax","use":"Antiviral","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683be405ecf2925b98932","generic":"Cefdinir","brand":"Omnicef","use":"Antibiotic","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683be405ecf2925b98935","generic":"Clindamycin","brand":"Cleocin","use":"Antibiotic","dea_class":"-","form":"GEL","route":"TOPICALLY","__v":0},{"_id":"65e683be405ecf2925b98938","generic":"Colchicine","brand":"Colcrys","use":"Antigout","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683be405ecf2925b9893b","generic":"Gemfibrozil","brand":"Lopid","use":"Cholesterol lowering","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683be405ecf2925b9893f","generic":"Glipizide","brand":"Glucotrol","use":"Antidiabetic","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683be405ecf2925b98942","generic":"Irbesartan","brand":"Avapro","use":"Antihypertensive","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683be405ecf2925b98945","generic":"Metoclopramide","brand":"Reglan","use":"Antispasmodic","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683be405ecf2925b98948","generic":"Losartan","brand":"Cozaar","use":"Antihypertensive","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683bf405ecf2925b9894b","generic":"Meclizine","brand":"Dramamine","use":"Antiemetic","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683bf405ecf2925b9894e","generic":"Metronidazole","brand":"Flagyl","use":"Antibiotic","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683bf405ecf2925b98951","generic":"Vitamin D","brand":"Caltrate","use":"Supplement","dea_class":"-","form":"CAPSULE","route":"BY MOUTH","__v":0},{"_id":"65e683bf405ecf2925b98954","generic":"Testosterone","brand":"AndroGel","use":"Hormone replacement","dea_class":"C-III","form":"PUMP(S)","route":"TOPICALLY","__v":0},{"_id":"65e683bf405ecf2925b98957","generic":"Ropinirole","brand":"Requip","use":"Anti-Parkinson's","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683bf405ecf2925b9895a","generic":"Risperidone","brand":"Risperdal","use":"Antipsychotic","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683bf405ecf2925b9895d","generic":"Olopatadine","brand":"Pataday","use":"Antihistamine","dea_class":"-","form":"DROP(S)","route":"INTO EYE(S)","__v":0},{"_id":"65e683bf405ecf2925b98960","generic":"Moxifloxacin","brand":"Avelox","use":"Antibiotic","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683c0405ecf2925b98963","generic":"Dexmethylphenidate","brand":"Focalin","use":"ADHD","dea_class":"C-II","form":"CAPSULE","route":"BY MOUTH","__v":0},{"_id":"65e683c0405ecf2925b98966","generic":"Enoxaparin","brand":"Lovenox","use":"Anticoagulant","dea_class":"-","form":"SYRINGE","route":"BY SUBCUTANEOUS INJECTION","__v":0},{"_id":"65e683c0405ecf2925b98969","generic":"Fentanyl","brand":"Duragesic","use":"Analgesic","dea_class":"C-II","form":"PATCH","route":"TOPICALLY","__v":0},{"_id":"65e683c0405ecf2925b9896c","generic":"Dicyclomine","brand":"Bentyl","use":"Antispasmodic","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683c0405ecf2925b9896f","generic":"Bisoprolol","brand":"Zebeta","use":"Antihypertensive","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683c0405ecf2925b98972","generic":"Atomoxetine","brand":"Strattera","use":"ADHD","dea_class":"-","form":"CAPSULE","route":"BY MOUTH","__v":0},{"_id":"65e683c0405ecf2925b98975","generic":"Ramipril","brand":"Altace","use":"Antihypertensive","dea_class":"-","form":"CAPSULE","route":"BY MOUTH","__v":0},{"_id":"65e683c0405ecf2925b98978","generic":"Temazepam","brand":"Restoril","use":"Sleep Aid","dea_class":"C-IV","form":"CAPSULE","route":"BY MOUTH","__v":0},{"_id":"65e683c0405ecf2925b9897b","generic":"Phentermine","brand":"Adipex P","use":"Appetite suppressant","dea_class":"C-IV","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683c1405ecf2925b9897e","generic":"Quinapril","brand":"Accupril","use":"Antihypertensive","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683c1405ecf2925b98981","generic":"Sildenafil","brand":"Viagra","use":"Erectile dysfunction","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683c1405ecf2925b98984","generic":"Ondansetron","brand":"Zofran","use":"Antiemetic","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683c1405ecf2925b98987","generic":"Oseltamivir","brand":"Tamiflu","use":"Antiviral","dea_class":"-","form":"ML(S)","route":"BY MOUTH","__v":0},{"_id":"65e683c1405ecf2925b9898a","generic":"Methotrexate","brand":"Rheumatrex","use":"Antirheumatic","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683c1405ecf2925b9898d","generic":"Dabigatran","brand":"Pradaxa","use":"Anticoagulant","dea_class":"-","form":"CAPSULE","route":"BY MOUTH","__v":0},{"_id":"65e683c1405ecf2925b98990","generic":"Budesonide","brand":"Uceris","use":"Anti-inflammatory","dea_class":"-","form":"SPRAY(S)","route":"INTO EACH NOSTRIL","__v":0},{"_id":"65e683c1405ecf2925b98993","generic":"Doxazosin","brand":"Cardura","use":"Hypertension/Englarged Prostate","dea_class":"Antihypertensive","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683c1405ecf2925b98996","generic":"Desvenlafaxine","brand":"Pristiq","use":"Antidepressant","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683c2405ecf2925b98999","generic":"Insulin Lispro","brand":"Humalog","use":"Antidiabetic","dea_class":"-","form":"UNIT(S)","route":"BY SUBCUTANEOUS INJECTION","__v":0},{"_id":"65e683c2405ecf2925b9899c","generic":"Clarithromycin","brand":"Biaxin","use":"Antibiotic","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683c2405ecf2925b9899f","generic":"Buspirone","brand":"Buspar","use":"Antianxiety","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683c2405ecf2925b989a2","generic":"Finasteride","brand":"Proscar","use":"Antihypertensive","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683c2405ecf2925b989a5","generic":"Ketoconazole","brand":"Nizoral","use":"Antifungal","dea_class":"-","form":"WASH(ES)","route":"TO SCALP","__v":0},{"_id":"65e683c2405ecf2925b989a8","generic":"Solifenacin","brand":"VESIcare","use":"Bladder relaxant","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683c2405ecf2925b989ab","generic":"Methadone","brand":"Dolophine","use":"Opioid addiction","dea_class":"C-II","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683c2405ecf2925b989ae","generic":"Minocycline","brand":"Minocin","use":"Antibiotic","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683c3405ecf2925b989b2","generic":"Spironolactone","brand":"Aldactone","use":"Diuretic","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683c3405ecf2925b989b5","generic":"Vardenafil","brand":"Levitra","use":"Erectile dysfunction","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683c3405ecf2925b989b8","generic":"Clobetasol","brand":"Clovate","use":"Anti-inflammatory steriod","dea_class":"-","form":"OINTMENT","route":"TOPICALLY","__v":0},{"_id":"65e683c3405ecf2925b989bb","generic":"Benzonatate","brand":"Tessalon","use":"Antitussive (cough suppressant)","dea_class":"-","form":"CAPSULE","route":"BY MOUTH","__v":0},{"_id":"65e683c3405ecf2925b989be","generic":"Divalproex","brand":"Depakote","use":"Anticonvulsant","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683c3405ecf2925b989c1","generic":"Dutasteride","brand":"Avodart","use":"Enlarged Prostate","dea_class":"-","form":"CAPSULE","route":"BY MOUTH","__v":0},{"_id":"65e683c3405ecf2925b989c4","generic":"Febuxostat","brand":"Uloric","use":"Antigout","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683c3405ecf2925b989c7","generic":"Lamotrigine","brand":"Lamictal","use":"Antiepileptic","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683c4405ecf2925b989ca","generic":"Nortriptyline","brand":"Pamelor","use":"Antidepressant","dea_class":"-","form":"CAPSULE","route":"BY MOUTH","__v":0},{"_id":"65e683c4405ecf2925b989cd","generic":"Roflumilast","brand":"Daliresp","use":"C.O.P.D.","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683c4405ecf2925b989d0","generic":"Rabeprazole","brand":"Aciphex","use":"Antacid (PPI)","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683c4405ecf2925b989d3","generic":"Etanercept","brand":"Enbrel","use":"Anti-arthritic","dea_class":"-","form":"SYRINGE","route":"BY INJECTION","__v":0},{"_id":"65e683c4405ecf2925b989d6","generic":"Nebivolol","brand":"Bystolic","use":"Antihypertensive","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683c4405ecf2925b989d9","generic":"Nabumetone","brand":"Relafen","use":"Analgesic (NSAID)","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683c4405ecf2925b989dc","generic":"Nifedipine","brand":"Procardia","use":"Antihypertensive","dea_class":"-","form":"CAPSULE","route":"BY MOUTH","__v":0},{"_id":"65e683c4405ecf2925b989df","generic":"Nitrofurantoin","brand":"Macrobid","use":"Antibiotic","dea_class":"-","form":"CAPSULE","route":"BY MOUTH","__v":0},{"_id":"65e683c5405ecf2925b989e3","generic":"Oxybutynin","brand":"Ditropan","use":"Incontinence","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683c5405ecf2925b989e7","generic":"Triamcinolone","brand":"Kenalog","use":"Anti-inflammatory steriod","dea_class":"-","form":"OINTMENT","route":"TOPICALLY","__v":0},{"_id":"65e683c5405ecf2925b989ea","generic":"Rivastigmine","brand":"Exelon","use":"Antidementia","dea_class":"-","form":"PATCH","route":"TOPICALLY","__v":0},{"_id":"65e683c5405ecf2925b989ed","generic":"Lansoprazole","brand":"Prevacid","use":"Antacid (PPI)","dea_class":"-","form":"CAPSULE","route":"BY MOUTH","__v":0},{"_id":"65e683c5405ecf2925b989f0","generic":"Cefuroxime","brand":"Ceftin","use":"Antibiotic","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683c5405ecf2925b989f3","generic":"Methocarbamol","brand":"Robaxin","use":"Muscle Relaxer","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683c5405ecf2925b989f6","generic":"Travoprost","brand":"Travatan","use":"Antiglaucoma","dea_class":"-","form":"DROP(S)","route":"INTO EYE(S)","__v":0},{"_id":"65e683c5405ecf2925b989f9","generic":"Lurasidone","brand":"Latuda","use":"Antipsychotic","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683c6405ecf2925b989fc","generic":"Terazosin","brand":"Hytrin","use":"Antihypertensive","dea_class":"-","form":"CAPSULE","route":"BY MOUTH","__v":0},{"_id":"65e683c6405ecf2925b989ff","generic":"Sumatriptan","brand":"Imitrex","use":"Antimigraine","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0,"sig":"Take 1 at a onset of migraine. May take second dose in 2 hours if symptons do not improve. Max 2 in 24 hour period"},{"_id":"65e683c6405ecf2925b98a02","generic":"Raloxifene","brand":"Evista","use":"Osteoporosis","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683c6405ecf2925b98a06","generic":"Adalimumab","brand":"Humira","use":"Immunosuppressant","dea_class":"-","form":"SYRINGE","route":"BY INJECTION","__v":0,"sig":"Inject subcutaneously once every 2 weeks"},{"_id":"65e683c6405ecf2925b98a09","generic":"Benztropine","brand":"Cogentin","use":"Anti-Parkinson's","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683c6405ecf2925b98a0c","generic":"Baclofen","brand":"Lioresal","use":"Muscle Spams","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683c6405ecf2925b98a0f","generic":"Hydralazine","brand":"Apresoline","use":"Antihypertensive","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683c6405ecf2925b98a12","generic":"Mupirocin","brand":"Bactroban","use":"Antibiotic","dea_class":"-","form":"CREAM","route":"TOPICALLY","__v":0},{"_id":"65e683c7405ecf2925b98a15","generic":"Propranolol","brand":"Inderal","use":"Antihypertensive","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683c7405ecf2925b98a18","generic":"Varenicline","brand":"Chantix","use":"Anti-smoking","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683c7405ecf2925b98a1b","generic":"Verapamil","brand":"Verelan","use":"Antihypertensive","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683c7405ecf2925b98a1e","generic":"Clotrimazole","brand":"Lotrimin","use":"Antifungal","dea_class":"-","form":"CREAM","route":"TOPICALLY","__v":0},{"_id":"65e683c7405ecf2925b98a21","generic":"Phenytoin","brand":"Dilantin","use":"Anticonvulsant","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683c7405ecf2925b98a24","generic":"Pramipexole","brand":"Mirapex","use":"Anti-Parkinson's","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683c7405ecf2925b98a27","generic":"Liraglutide","brand":"Victoza","use":"Antidiabetic","dea_class":"-","form":"ML(S)","route":"BY SUBCUTANEOUS INJECTION","__v":0,"sig":"Inject subcutaneously 0.6 mg once daily for 7 days then increase to 1.2 mg once daily."},{"_id":"65e683c7405ecf2925b98a2a","generic":"Ticagrelor","brand":"Brilinta","use":"Anticoagulant","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683c7405ecf2925b98a2d","generic":"Diclofenac","brand":"Voltaren","use":"Analgesic (NSAID)","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683c8405ecf2925b98a30","generic":"Saxagliptin","brand":"Onglyza","use":"Antidiabetic","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683c8405ecf2925b98a33","generic":"Lomitapide","brand":"Juxtapid","use":"Cholesterol lowering","dea_class":"-","form":"CAPSULE","route":"BY MOUTH","__v":0},{"_id":"65e683c8405ecf2925b98a36","generic":"Tizanidine","brand":"Zanaflex","use":"Muscle Relaxer","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683c8405ecf2925b98a3b","generic":"Ezetimibe","brand":"Zetia","use":"Cholesterol lowering","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683c8405ecf2925b98a3e","generic":"Simvastatin","brand":"Zocor","use":"Cholesterol lowering","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683c8405ecf2925b98a42","generic":"Hydrocodone/APAP","brand":"Vicodin , Norco","use":"Analgesic","dea_class":"C-II","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683c8405ecf2925b98a46","generic":"Oxycodone/APAP","brand":"Percocet","use":"Analgesic","dea_class":"C-II","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683c9405ecf2925b98a4a","generic":"Triamterene/HCTZ","brand":"Dyazide","use":"Diuretic","dea_class":"-","form":"CAPSULE","route":"BY MOUTH","__v":0},{"_id":"65e683c9405ecf2925b98a4e","generic":"Buprenorphine / Naloxone","brand":"Suboxone","use":"Opioid Addiction","dea_class":"C-III","form":"TABLET","route":"BY SUBLINGUAL ROUTE","__v":0},{"_id":"65e683c9405ecf2925b98a52","generic":"Codeine / APAP","brand":"Tylenol #3","use":"Analgesic","dea_class":"C-III","form":"CAPSULE","route":"BY MOUTH","__v":0},{"_id":"65e683c9405ecf2925b98a56","generic":"Estrogen","brand":"Premarin","use":"Hormone replacement","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683c9405ecf2925b98a5a","generic":"Desiccated Thyroid(Pork)","brand":"Armour Thyroid","use":"Hormone replacement","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683ca405ecf2925b98a62","generic":"Nitroglycerine","brand":"NitroStat SL","use":"Anti-angina","dea_class":"-","form":"TABLET","route":"BY SUBLINGUAL ROUTE","__v":0},{"_id":"65e683ca405ecf2925b98a66","generic":"Tadalifil","brand":"Cialis","use":"Erectile dysfunction","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683ca405ecf2925b98a6a","generic":"Mirtazepine","brand":"Remeron","use":"Antidepressant","dea_class":"-","form":"TABLET","route":"BY MOUTH","__v":0},{"_id":"65e683ca405ecf2925b98a6e","generic":"Amphetamine/Dextroamphetamine","brand":"Adderall","use":"ADHD","dea_class":"C-II","form":"CAPSULE","route":"BY MOUTH","__v":0},{"_id":"65eea60430562df25ac01d60","generic":"Alendronate","brand":"Fosamax","use":"Osteoporosis","dea_class":"-","form":"TABLET","route":"BY MOUTH","sig":"Take 1 tablet by mouth once a week 30 minutes before the first food or drink of the day"},{"_id":"65f26283b7327b1352ecdfae","generic":"dummyCard","brand":"dummyCard","use":"dummyCard","dea_class":"dummyCard","form":"dummyCard","route":"dummyCard","sig":"dummyCard"},{"_id":"65f3ba3c6ff8aea913a5fa89","generic":"Albendazole","brand":"Albenza","use":"Antihelmintic","dea_class":"-","form":"TABLET","route":"BY MOUTH","sig":"Take 2 tablets by mouth as a one time dose.","__v":0},{"_id":"65f65826cab4f3d4b6cc7360","generic":"Cyanocobalamin","brand":"Vitamin B12","use":"Vitamin B12 deficiency","dea_class":"-","form":"Syringe","route":"Injection","sig":"Inject 1ml intramuscularly once a month","__v":0}]

let generics = ["Levothyroxine","Amoxicillin","Lisinopril","Esomeprazole","Atorvastatin","Simvastatin","Clopidogrel","Montelukast","Rosuvastatin","Metoprolol","Escitalopram","Azithromycin","Albuterol","Hydrochlorothiazide","Metformin","Sertraline","Ibuprofen","Zolpidem","Furosemide","Omeprazole","Trazodone","Valsartan","Tramadol","Duloxetine","Warfarin","Amlodipine","Quetiapine","Promethazine","Fluticasone","Alprazolam","Clonazepam","Benazepril","Meloxicam","Citalopram","Cephalexin","Tiotropium","Gabapentin","Aripiprazole","Potassium","Cyclobenzaprine","Methylprednisolone","Methylphenidate","Fexofenadine","Carvedilol","Carisoprodol","Digoxin","Memantine","Atenolol","Diazepam","Oxycodone","Risedronate","Folic Acid","Olmesartan","Prednisone","Doxycycline","Alendronate","Pantoprazole","Tamsulosin","Paroxetine","Enalapril","Lovastatin","Pioglitazone","Pravastatin","Fluoxetine","Insulin Detemir","Fluconazole","Levofloxacin","Rivaroxaban","Celecoxib","Mometasone","Ciprofloxacin","Pregabalin","Insulin Aspart","Venlafaxine","Lorazepam","Ezetimibe","Allopurinol","Penicillin","Sitagliptin","Amitriptyline","Clonidine","Latanoprost","Lisdexamfetamine","Niacin","Naproxen","Dexlansoprazole","Glyburide","Olanzapine","Tolterodine","Famotidine","Diltiazem","Insulin Glargine","Bupropion","Cetirizine","Topiramate","Valacyclovir","Eszopiclone","Acyclovir","Cefdinir","Clindamycin","Colchicine","Gemfibrozil","Glipizide","Irbesartan","Metoclopramide","Losartan","Meclizine","Metronidazole","Vitamin D","Testosterone","Ropinirole","Risperidone","Olopatadine","Moxifloxacin","Dexmethylphenidate","Enoxaparin","Fentanyl","Dicyclomine","Bisoprolol","Atomoxetine","Ramipril","Temazepam","Phentermine","Quinapril","Sildenafil","Ondansetron","Oseltamivir","Methotrexate","Dabigatran","Budesonide","Doxazosin","Desvenlafaxine","Insulin Lispro","Clarithromycin","Buspirone","Finasteride","Ketoconazole","Solifenacin","Methadone","Minocycline","Spironolactone","Vardenafil","Clobetasol","Benzonatate","Divalproex","Dutasteride","Febuxostat","Lamotrigine","Nortriptyline","Roflumilast","Rabeprazole","Etanercept","Nebivolol","Nabumetone","Nifedipine","Nitrofurantoin","Oxybutynin","Triamcinolone","Rivastigmine","Lansoprazole","Cefuroxime","Methocarbamol","Travoprost","Lurasidone","Terazosin","Sumatriptan","Raloxifene","Adalimumab","Benztropine","Baclofen","Hydralazine","Mupirocin","Propranolol","Varenicline","Verapamil","Clotrimazole","Phenytoin","Pramipexole","Liraglutide","Ticagrelor","Diclofenac","Saxagliptin","Lomitapide","Tizanidine","Ezetimibe","Simvastatin","Hydrocodone/APAP","Oxycodone/APAP","Triamterene/HCTZ","Buprenorphine / Naloxone","Codeine / APAP","Estrogen","Desiccated Thyroid(Pork)","Nitroglycerine","Tadalifil","Mirtazepine","Amphetamine/Dextroamphetamine","Alendronate","dummyCard","Albendazole","Cyanocobalamin",]
let drList=[ "Dr Doogie Howser","Dr Leonard McCoy","Dr Hawkeye Pierce","Dr Gregory House","Dr Michaela Quinn", "Dr Miranda Bailey","Dr Beverly Marshall","Dr Christina Yang","Dr Chris Turk"];
let ptList =["John Connor","Homer Simpson","Ichigo Kurosaki","Major Kusanagi","Dr. Dolittle","Edward Elrich"]
sessionStorage.setItem("place", 0);
sessionStorage.getItem("place");
/**how is rx created? So some medicines have a sig in their object. Some don't. Those have to be created
 * to do that their form is used.  Every med has a form such as tablet or spray or ml, and they have a 
 * time period or dosing schedule based on the form. 
 */


function checkTypedRX(){ //action of the submit button
  let checksContainer = document.getElementById("allChecks");
  let oldElList = document.querySelectorAll('p.addedP');
  
  if(oldElList.length>0){
    oldElList.forEach((result)=>{
      checksContainer.removeChild(result);

    })

  }
  
  let inputValues = [];
  const inputs = document.querySelectorAll("#theForm input");
  inputs.forEach(input=>{
    inputValues.push(input.value);
  })
  

  const rxInfos = document.querySelectorAll("#theForm p");
  let rxValues = [];
  rxInfos.forEach(rxinf =>{
    rxValues.push(rxinf.innerText);
  })
  
  //order of comparisons: patient, medication,quantity,sig,provider,npi,dea
  //const orderOfValues = ["patient","medication","quantity","sig","provider","npi","dea"];
  const checkObj = {"patient": "pass", 
                         "medication": "pass", 
                         "quantity": "pass",
                         "sig": "pass",
                         "provider": "pass",
                         "npi": "pass",
                         "dea": "pass"}
  const keys = Object.keys(checkObj); //creates array of keys of checkobj;
  //get pass/fail values
  for(let val in keys){
    /**so we grab the container for the pass/fail values
     * checkObj contains the results of the checks
     * we iterate over keys and check the input against the rx
     * we update pass/fail in checkObj.
     * we create a p element to print to screen the pass fail values
     * then append those elements to checksContainer which is at the top of the page
     * maybe the bottom would be better or maybe even on the side 
     */
   
    checkObj[keys[val]] = (inputValues[val] == rxValues[val]);
    let checked = document.createElement('p')
    checked.className = "addedP"
    checked.innerText = `${keys[val]}: ${checkObj[keys[val]]}`;

    checksContainer.appendChild(checked);
  }
  

}
function incrementDrugsList(){ //action of next button
  let counter = parseInt(sessionStorage.getItem("place"));
  sessionStorage.setItem("place", counter +1);
  clearInputs();
  loadRX();
}

function clearInputs(){//action of reset button
  let form = document.getElementById("theForm")
  theForm.reset();

}

function  loadRX(){
  let randPT = getRandNum(ptList.length);
  let randDR = getRandNum(drList.length);
  let counter = parseInt(sessionStorage.getItem('place'));
  let mRX = document.getElementById("medRX");
  let qRX = document.getElementById("quantityRX");
  let ptRX = document.getElementById("ptRX");
  let proRX = document.getElementById("providerRX");
  let sigRX = document.getElementById("sigRX");
  
  let sig = createSig(drugsList[counter]);

  sigRX.innerText = sig;
  proRX.innerText = `${drList[randDR]}`;
  ptRX.innerText = `${ptList[randPT]}`;
  qRX.innerText = `${getQuantity()}`;
  mRX.innerText = `${drugsList[counter].generic}`;
}
loadRX();
function getAction(card){
  //issue to resolve here. I'm getting temp sometimes.

  switch(card.form){
      case 'TABLET':
      case 'CAPSULE': 
      case 'ML(S)':
          action = 'TAKE';
          return action;
      case 'SYRINGE':
          action = "INJECT";
          return action;
      case 'SPRAY(S)':
          action = 'SPRAY';
          return action;
      case 'PUFF(S)': 
          action = 'Inhale';
          return action;
      case 'PATCH':
      case 'CREAM':
      case 'OINTMENT':
      case 'GEL':
      case 'PUMP(S)':
      case 'WASH(ES)':
          action = 'Apply';
          return action;
      case 'DROP(S)':
          action = 'DROP';
          return action;
      default:
          action = 'temp';

  }
  return action;
}
function getTimePeriod(card){
    
  // issue to resolve here. I'm only getting per week and every other day. per day is not comming up. also that should be more common
  switch(card.form){
      case 'TABLET':
      case 'CAPSULE':
      case 'ML(S)':
          periodList = ["per day","every other day","per week"]
          break;
      case 'SYRINGE':
          periodList = ["per week","per month"]
          break;
      case 'SPRAY(S)':
      case 'PUFF(S)': 
      case 'PATCH':
      case 'CREAM':
      case 'OINTMENT':
      case 'DROP(S)':
      case '.':
          periodList = ['per day']
      default:
          periodList=['temp'];
       
  }
  let randIndex = getRandNum(periodList.length,Math.round(Math.random()));
  return periodList[randIndex];
  
}

 function createSig(card){
    
  /**
   * how to create the sig.  Pull the id from req.body._id. get route and form
   * a sig is basically action + quantity + med.form + "by/" + med.route + rate + "time(s) per" + time period
   * how can I improve the sig?  There are a number of medications that have a unique sig. Azithromycin for
   * instance.  9/10 times it's going to be 2 day 1 then 1 a day.  I could possible add a sig property 
   * to certain medications then check if they have a sig during sig creation.  Another thing is quantities
   * can be different depending on the type of medicine. For instance insulin could be 10,15, 20. units a day, 
   * while pills will be 1,2,3,4 a day or 2 times a day or whatever. but basically what I'm trying to say 
   * is they can't pull from the same array of quantities. I could probably use the form or route to decide which 
   * array of quantities to pull from.*/
  

  if(card.sig){
    
    const sig = card.sig;
    return sig
  }else{
    let action =  getAction(card);
    let quantity = 1;
    let form = card.form;
    let route = card.route;
    let rate = 1
    let timePeriod =  getTimePeriod(card);
    const sigString = `${action} ${quantity} ${form} ${route} ${rate} time(s) ${timePeriod}`;
    
      if(action=='temp' || timePeriod =='temp'){
          
      }
      return sigString;
  }   
 
  
}
/*async function getCard(){
  //this basically creates an array of the drug names
  // i want to change it to send an entire merged card so I can use it in the 
  // createSig() function.  Actually looks like I still need medsList for autocomplete so will create a function for that.
  const theMeds = await MergedDeck.find();
  
  let cardIndex = getRandNum(198)
  let card = theMeds[cardIndex]
 
  return card
}
  */
/*async function getMedsList(){
  const meds = await Card.find();
  let medsList = [];
   for(let i in meds){
      medsList.push(`'${meds[i].brand}' `) //funky formating to get each medication with quotes for the array
      medsList.push(`'${meds[i].generic}'`);// which will be sent to the front end for the autocomplete function
      
  }
  
  return [medsList]

}*/
function getQuantity(){
  const quantityIndex = getRandNum(3,Math.round(Math.random()));
  const quantities = [30, 60, 90,180];
  return quantities[quantityIndex];
}
function getRandNum(max, getZeroes = 1){
  return Math.floor(Math.random()*max * getZeroes);
}
function checker(input, checker){

  const stripChecker = checker.replaceAll("'","")
 
  if (input == stripChecker){
      return 'pass'
  }else{
      return 'fail'
  }
}
function sigCheckerFunct (inputSig,sigChecker){
  //this was originally named sigChecker, but it wasn't working when I called it.
  // Apparently it's becaue i already had a variable named sigChecker.  so it's said sigChecker wasn't a function
  const loweredInput = inputSig.toLowerCase().trim();
  const loweredChecker = sigChecker.toLowerCase().trim();
  //console.log('sigCheckerFunct:','\n', loweredInput,'\n',loweredChecker, (loweredInput==loweredChecker))
  return checker(loweredInput, loweredChecker);


}

/*async function getNameList(){
  const names = await RName.find();
  let nameList = [];
  
  for(i=0; i<names.length; i++){
      nameList.push(`'${names[i].name}'`)
      
  }
  return nameList
};
*/
document.addEventListener("DOMContentLoaded", function (event) {
        var scrollpos = sessionStorage.getItem('scrollpos');
        if (scrollpos) {
            window.scrollTo(0, scrollpos);
            sessionStorage.removeItem('scrollpos');
        }
    });



    function autocomplete(inp, arr) {
    /*the autocomplete function takes two arguments,
    the text field element and an array of possible autocompleted values:*/
    var currentFocus;
    /*execute a function when someone writes in the text field:*/
    inp.addEventListener("input", function(e) {
        var a, b, i, val = this.value;
        /*close any already open lists of autocompleted values*/
        closeAllLists();
        if (!val) { return false;}
        currentFocus = -1;
        /*create a DIV element that will contain the items (values):*/
        a = document.createElement("DIV");
        a.setAttribute("id", this.id + "autocomplete-list");
        
        a.setAttribute("class", "autocomplete-items");
        /*append the DIV element as a child of the autocomplete container:*/
        this.parentNode.appendChild(a);
        /*for each item in the array...*/
        for (i = 0; i < arr.length; i++) {
          /*check if the item starts with the same letters as the text field value:*/
          if (arr[i].substr(0, val.length).toUpperCase() == val.toUpperCase()) {
            /*create a DIV element for each matching element:*/
            b = document.createElement("DIV");
            /*make the matching letters bold:*/
            b.innerHTML = "<strong>" + arr[i].substr(0, val.length) + "</strong>";
            b.innerHTML += arr[i].substr(val.length);
            /*insert a input field that will hold the current array item's value:*/
            b.innerHTML += "<input type='hidden' value='" + arr[i] + "'>";
            /*execute a function when someone clicks on the item value (DIV element):*/
                b.addEventListener("click", function(e) {
                /*insert the value for the autocomplete text field:*/
                inp.value = this.getElementsByTagName("input")[0].value;
                /*close the list of autocompleted values,
                (or any other open lists of autocompleted values:*/
                closeAllLists();
            });
            a.appendChild(b);
          }
        }
    });
    /*execute a function presses a key on the keyboard:*/
    inp.addEventListener("keydown", function(e) {
        var x = document.getElementById(this.id + "autocomplete-list");
        if (x) x = x.getElementsByTagName("div");
        if (e.keyCode == 40) {
          /*If the arrow DOWN key is pressed,
          increase the currentFocus variable:*/
          currentFocus++;
          /*and and make the current item more visible:*/
          addActive(x);
        } else if (e.keyCode == 38) { //up
          /*If the arrow UP key is pressed,
          decrease the currentFocus variable:*/
          currentFocus--;
          /*and and make the current item more visible:*/
          addActive(x);
        } else if (e.keyCode == 13) {
          /*If the ENTER key is pressed, prevent the form from being submitted,*/
          e.preventDefault();
          if (currentFocus > -1) {
            /*and simulate a click on the "active" item:*/
            if (x) x[currentFocus].click();
          }
        }
    });
    function addActive(x) {
      /*a function to classify an item as "active":*/
      if (!x) return false;
      /*start by removing the "active" class on all items:*/
      removeActive(x);
      if (currentFocus >= x.length) currentFocus = 0;
      if (currentFocus < 0) currentFocus = (x.length - 1);
      /*add class "autocomplete-active":*/
      x[currentFocus].classList.add("autocomplete-active");
    }
    function removeActive(x) {
      /*a function to remove the "active" class from all autocomplete items:*/
      for (var i = 0; i < x.length; i++) {
        x[i].classList.remove("autocomplete-active");
      }
    }
    function closeAllLists(elmnt) {
      /*close all autocomplete lists in the document,
      except the one passed as an argument:*/
      var x = document.getElementsByClassName("autocomplete-items");
      for (var i = 0; i < x.length; i++) {
        if (elmnt != x[i] && elmnt != inp) {
        x[i].parentNode.removeChild(x[i]);
      }
    }
  }
  /*execute a function when someone clicks in the document:*/
  document.addEventListener("click", function (e) {
      closeAllLists(e.target);
  });}



    
    
autocomplete(document.getElementById("patient"), ptList );
autocomplete(document.getElementById('meds'), generics);
autocomplete(document.getElementById('inputProvider'), drList);
